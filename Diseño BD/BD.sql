-- --------------------------------------------------------
-- Host:                         192.168.0.91
-- Versión del servidor:         5.0.45-community-nt - MySQL Community Edition (GPL)
-- SO del servidor:              Win32
-- HeidiSQL Versión:             9.1.0.4867
-- --------------------------------------------------------

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET NAMES utf8 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;

-- Volcando estructura de base de datos para control_acceso
CREATE DATABASE IF NOT EXISTS `control_acceso` /*!40100 DEFAULT CHARACTER SET latin1 */;
USE `control_acceso`;


-- Volcando estructura para tabla control_acceso.circulacion
CREATE TABLE IF NOT EXISTS `circulacion` (
  `circu_Idusuario` int(11) default NULL,
  `circu_Fecha` date default NULL,
  `circu_Entrada` tinyint(2) default NULL,
  `circu_InicioHora` time default NULL,
  `circu_Salida` tinyint(2) default NULL,
  `circu_FinHora` time default NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

-- Volcando datos para la tabla control_acceso.circulacion: ~0 rows (aproximadamente)
/*!40000 ALTER TABLE `circulacion` DISABLE KEYS */;
/*!40000 ALTER TABLE `circulacion` ENABLE KEYS */;


-- Volcando estructura para tabla control_acceso.diasfestivos
CREATE TABLE IF NOT EXISTS `diasfestivos` (
  `dife_Id` int(11) NOT NULL,
  `dife_fecha` date default NULL,
  `dife_nombre` varchar(50) default NULL,
  PRIMARY KEY  (`dife_Id`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

-- Volcando datos para la tabla control_acceso.diasfestivos: ~10 rows (aproximadamente)
/*!40000 ALTER TABLE `diasfestivos` DISABLE KEYS */;
INSERT INTO `diasfestivos` (`dife_Id`, `dife_fecha`, `dife_nombre`) VALUES
	(1, '2016-01-01', 'Año Nuevo'),
	(2, '2016-01-11', 'Reyes magos'),
	(3, '2016-03-21', 'Día de San José'),
	(4, '2016-03-24', 'Jueves Santo'),
	(5, '2016-03-25', 'Viernes Santo'),
	(6, '2016-05-09', 'La Ascensión del Señor'),
	(7, '2016-05-30', 'Corpus Christi'),
	(8, '2016-06-06', 'El Sagrado Corazón de Jesús'),
	(9, '2016-07-04', 'San Pedro y San Pablo'),
	(10, '2016-08-06', NULL);
/*!40000 ALTER TABLE `diasfestivos` ENABLE KEYS */;


-- Volcando estructura para vista control_acceso.empleado
-- Creando tabla temporal para superar errores de dependencia de VIEW
CREATE TABLE `empleado` (
	`Cod_empleado` VARCHAR(20) NOT NULL COLLATE 'latin1_swedish_ci',
	`Identificacion` VARCHAR(40) NULL COLLATE 'latin1_swedish_ci',
	`Nombres` VARCHAR(60) NULL COLLATE 'latin1_swedish_ci',
	`Apellido1` VARCHAR(50) NULL COLLATE 'latin1_swedish_ci',
	`Apellido2` VARCHAR(50) NULL COLLATE 'latin1_swedish_ci',
	`cod_tipo` VARCHAR(10) NULL COLLATE 'latin1_swedish_ci',
	`Eliminado` TINYINT(1) NOT NULL,
	`FOTO` VARCHAR(50) NULL COLLATE 'latin1_swedish_ci'
) ENGINE=MyISAM;


-- Volcando estructura para tabla control_acceso.horario
CREATE TABLE IF NOT EXISTS `horario` (
  `empl_idempleado` int(11) default NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1 COMMENT='Horario del Empleado.';

-- Volcando datos para la tabla control_acceso.horario: ~0 rows (aproximadamente)
/*!40000 ALTER TABLE `horario` DISABLE KEYS */;
/*!40000 ALTER TABLE `horario` ENABLE KEYS */;


-- Volcando estructura para tabla control_acceso.huella
CREATE TABLE IF NOT EXISTS `huella` (
  `huell_id` int(11) NOT NULL,
  `huell_identificacion` int(11) default NULL,
  `huell_huella` blob,
  `huell_dedo` set('Primario','Secundario') default NULL,
  PRIMARY KEY  (`huell_id`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

-- Volcando datos para la tabla control_acceso.huella: ~3 rows (aproximadamente)
/*!40000 ALTER TABLE `huella` DISABLE KEYS */;
INSERT INTO `huella` (`huell_id`, `huell_identificacion`, `huell_huella`, `huell_dedo`) VALUES
	(1, 1000064015, _binary 0x4150682F4163677134334E6377454533436174784D4A5155565A49674357397779504B6B6C6847746D735A574348416B394662416635695466557937596647544C7A666F75586E69367855636C6365306E7744514365442F58477058356A4F6241556142593649436F5231374E5A494A536C71386D36514677596C54584D5A4675646C5034764E415245686D572B3962664E71446B6333625A4B2F35644E445A624C4244643956344942612F5366537A6D643731646F466B494A6F356A334F4663344A345366563956555A457253476E43613532736A61306A516E7A483063706B684F696E41536C3662615A714C31582B32524E6D57796C583865374C7243373453456C32426C4D564733626561445A6334733531655455436238534F6B506F6A55565269592B4A566C2B73627159363069456D303078395444424C743376714E4F68556C4A5755647A645756554A4B57432F327331575275623274574468474C62384439585966477137723769793874733978554C704E4338596D387930474252513850376F4545624B6C38744973646333594E78316A75443565522F304A6D4F2F534D5765634E6F69596770544D4C4A484B626D7967686D776D69756A644A3976477A53756F7876624B78374D4749546E457A4B626D3332423972375A4352544D6F7A785652512B34787A4153775663656165694449555259714D46334B3037374B62774434575148494B754E7A584D42424E776D7263664437464657532B6C32555A56686F6251504F715757692B32304345534B6F5851594B78646950506F46435A597773534F6E427755316F6D304779324D567877676166593362543930566B4F772B4153394E5A744A383569364830476D6556746F625A2F32353755753463354951594C744F5A6D6370755078702F4A377553444C4D783775486D616A487430516F78716456453535594B2F57626E752F774D42314147567964494C5472584148316C61317333547374634356754874696F48374A6A4A2B4857324841304973525233454A6B543673346D353874586D464C5133766162757476596458435942424F554E684F446C3279473762644F73613965546572596E34723059706F31377749557442484E664A52484537484F766F69586673564C486C5562315A644134774B705163563537503033594B797974636A6D72587244372F7574476E747433326B696457647933356F7A3758385467667934357768643454616466695742536C366C332F6D674D7248777A4244436B7444673553796878724B43583949485053634D737238716A3942612B627651387565323171766D62653842765447326C436268585751687461672F7758796E38564E76415069414163677134334E637745453343617478384B6B55565A4C4B3570627852574B59565675672B6B7854724C30796667573241612B45727050652B735A444F68654D31524F715630744439675144434D53517530744972767A50616B674659504E7377624B522F633068665639676532416574344E562F68434E7650766E72533076764B78364A745662474D6855423248343744303971772F74716D7544334A555547334D4C6F347138546179394A6A413344386E7A5775635754336A4F42734F464F477239536D484465633446745A5874417862314779347A72736B317A45512B586750594831485A6F392F456E703477456C727551707A5A6148447344436B683251764F7342306279644A6E2F526A33346A2B5771385979384D38596E30796B394C453359594B4B314356545758773734445444464D422B6B3649645A6C71423341326B55694262654C4D38652F396877502B516147426375766D777648736D3956746F3235764A316E745A74776256385A677363752B7A6739762F77436E4F394B445A6E767358766135486E525534545859495771646B72526532426E52444E6F37497956667762575054506C333175415A6879392B7A4D537334436C7352336F4830596967552B686B34557942416D78324159617748753753435437392F63696367475A73673970694E7755734869646831686D2F464252645A31364A664132384136446B427943726A63317A415154634A71334877386852566B6D336A333147744F5465447833456561453144704655426E6C30626842487349676238424F396757365471504B673533547254684C3367415A692F524944662F467334436C4B6874396A7053526B2B714636515A5273552B467A525A395972386B6761326D3870744C37572F4577734657486E3234376E4C69335A49474F4D5342336D706D437A424A5946675855684A4F7436322F2B453061305944326657597A4D33422F473079484B4449486F3177675558634F3751536B2B494431324B467337356932796B764873506F4F78377075457053723446624967524F5631712B68617A41716B43614D69634F506F736B637A4B7A53634D777A535372334A6B463349366D397749764D78363263386248756A487556742B726F6A78683256506144546D6A6A306A2F476F4549504C3867354167446A445177642F616B41712B32766A6337466B526D7654436352396F4246714566476D464248724250716870774546456451442B757349766C7041486C516E4D5256634665656138447471774367776C34733155585679317947394F61566846576E42696257527359327843655746584E54425952555A3359305A344D317058536B6468567A5675576C684B64324E746248566B5257526F597A424F61474E59566D786B52305A6A5A444A5761564A74624856614D6C5A355930684B63474A75556B685A57453545575668474D567059556D6859526C7077576C686B59315649536E426B62555977576C5A3455566C59536D686956315977593231734E6C6C58546E42694D6A566A56456457616D52484F586C5262577832596C64574D474E74624770694D58684B596C6447626C70584E48565A574535335A55453950543839445170594C564276643256795A575174516E6B36, 'Primario'),
	(2, 1000064015, _binary 0x415069414163677134334E63774545334361747863453056565A497676795A5368776A79476D677073516662454A4D35367154762B4F5A696F66664A4F4E39616D627A30367A796758614177496A37716461314D72745663302B34487636486E6C7665774F357042584F696966596936516F497377336B6162464E654A664E7A5862507861785545556367413336746D53656F616D6F3736756A746C51584544514F4C754E656E41506B77712F62734D6566484B68684E4838754E784970697730313045327A364C58752B6F417568646544724442584769345959506D6D4A5A5A6C747447644E6447472B41754431385133704B753576482F76586B4A4B327765574F2F6E76484D45735A4B376A345A644D5245524539526B71586D6B30536D796C376859465046586768683061374C4D4349416E7755623571385A414F763350527362646E6E69674B472B68494F4E756C32644C53653658565A724B4B4D4830794B4A67675548636C5A6F56326E6A707276673245785573426D3664473062764931745236742F4F467064796E7969746E5979336E6575652B61345439697156754779306A3463494A636147483955596F69324244657950696635626A563245386E75376F46346B36334576587277416E784A7A7177516470456A6A3253526D68317731744F3959536959744C535756466F6D69762F576C5031636D4752413271454E454738412B4867427943726A63317A415154634A71334777676852566B71534F616F707073615A76652B556D39693243686E61786A34486372524E763556424573316C513455324879426B684970357831445A54756A51594E6A305164634272654C6F2B6C327646474438545A443542776C665957344D7A6E2F3644457A424E654875396552314F696C514A54303462716C45384443353175636876352B772B466C664944786933736D647579456A424370682B7A6453517449466D4858526F44734B6446584E657374763557446D4D585A3775796C6D48663376723874384A41585950314B6A6E386334794136505569344967636443417432796A6934643875547036544771647175524E5275304D63694D7A4950327269694163412B32756958576E4263337132713279685841743659726B4C4D4C6F4F7159683256387944646971726277385436425A732F3867385833306A554B3737422B45514A4C775638556C37363634456B6C76666B7665486E3234424158374E676A513736777731306C647370717834513849366243335A2F35416E4765396D32545A32642F5068704B6D66776C4B4A6655744E724930432F6D30377130617375764E5262397847337332494B75553764327237335557576B73593374325372424B6A44426F324C3276624648637136797165747437566A37746E4936396745716F33613238412B4838427943726A63317A415154634A71334677544256566B744E6A7A6676514F51477446593057675836686A6B7131675075597342385A574B7370557532763063482B7A6B643345784F505A645253494357486B395272426D487936775977387861566E7A7462414F74647656556B476F762F614D2B56665355424475384F6F746C76544E4C36317A4B5A6D394A51495155422B3946465231616675773744716843654462766F4C6D466F6C7875777A746F4E78627762786E44625631786D7171545954424977706B325979675764334C46723756707435432B4831555A6168316561433974794B53356B4F66623852733149524464554C78394F713542596D7367336F7A7A46354447623962564A4A317A3057377476502F47466D6B434B71577768475578756B625A3643424C4D6A6B467752433433354B374F542B473262576F4173323771506D46547A6B61685833667934544D684C624531585561552B574F4E32685456714B754F7538747A664532365A6C673268524B557461487A394268335455383654612F54796B515A586730314E2B723637734339424B6947576E4A7A4F30383571546B3979613549794F4E7373767731532B6A64553141435276734C6248777878714455716F563348374C762B627035736C4471696C5A4750755654335336624352663232302F525A7663567A514A6F686B3031546D434F33315676414F682F4163677134334E6377454533436174784D4C6355565A492F71526F426C6159306F622F65316A58306C2B764A342B4E623438795651315639486F7263386468755456716C422F55302F7430535A4D6956574472635550305274615A59393330332B56394774654A726B704C702F2F756466744E5032797958347A346C336C4B386753335667737432486B7A36612F7637645448364F705035464B394A7466656838476769736970306F4B5A662B676476546676633152534C6E644E44464A4E323441367942362F4E366656415149335A7A413878654E5836544A4B4449644E67314F61393845593235426E61754C61762F577553424455506C497A78464B4A7754576534703630546768336E4E79576F4971612F3643556A5735534D3368414468764D447A545251375154506D747775634D6247384F433162387A44466A574A45725A7772636D616B3532717752654B6E426C335A724A38434B3969477631636A3264706870664C6D4A637836473162397255395772366C5161794271484C50676944485831355336532F636B4F4F4D5A784748715135504E6D51574B696778566B6B39355665525038436E65627077776275564E613877645A6C6C3272796B625161356B72304756662B304A4757375047776D747566444F7A757555565A70706F2F6A35714754315048545652654D7A774856486571344E59666A495147706277414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141, 'Primario'),
	(3, 1000064015, _binary 0x4150682B4163677134334E6377454533436174784D494155565A493679704C39305456706246626C466D63326B6E47364E2F516E2B795A715973726E6F347049556670503834354C5447494F41415969723135576457654F4769527A574759424C4C6F5A2B6230676339354759426734675A335972304C5341567A617A614F67594E49636C52333846733265314935554C48364B563135665A5830775756472F6A306B656B41576A5267646A4F68563037693233577A575256457573694A52527A44454F4A6437486A7A7371332B306952386679684F497278375557687072753851385A6D42362F63544957344F51765A686B73424A73772F4330626E54654D7976443733786F45635A4D416966476D3067586E2B3845702B56724163642B3144316279766B2F457244565031527152657533545931707A5955336856554575445854596E7052613252637455354E6B62306A56416D4855656E44717174437A61304777727A51566D5A462F4E324F344F414874466E36634B5563626F76313374464564527A32496967574F5759584771686B2B75535369334D4E373953456A54373634716E6E7273767A2B2F756D2B3665375246766E4C37306945585A2B502B6447586449377547342B734C396A48436D41742B4D527267426753684342516D6D4D425377303142466F484D5072303879584E70574C594A7045753573684E37325A764150682F4163677134334E637745453343617478734A4D55565A4A4A6973416D7036623936374A52316D33447258362B324E3747424E4D4E6B55682B524274474A446A4F714C4F2F374B62427154577364397158556C7165792F6561756C76705A484655586D354D56554F746D79697966344978312F326B4730374A54704E644432625A7157474B52634D68676C45334350692F6A4E592F6E33652F313576634A783763534D695278677936754B49354A36544F6772524E436A78625863415366364B47302B63467172336A6B737733566275707830496A4441305134774B6F6F6F36362F577354466F716D4C3657646555415235535974367263746A37526931766C7551485A384432633762395A596368557339333470527A72544574654465595357696F632F372B3178712F32494F6D4149326235346D59772F6A41326E7A377465535A574B5577424C75657541784B6A454563615A6C4F704272706E65764D474F4777305631524B617742696E7A3877372B67595441456A776776767A7A494E55616D6C394B526E2B54593343716430423062534834573974627A53702F3631434B67476650464F746B534A61662F5A77487A426941375064326F464C514E62756176304E6C363433434130506F4B39754354694A517073586531596B483344522B6C7952446F4345425A6C2B6D7958672F4933346C37576657454B69616B4E6462774434667748494B754E7A584D42424E776D726354434346465753416E7150686E642F2F646F4C414C59466B2B574A52574B654C3275326A334B6E2F66516469786F5232453768486D6B52356C6F666872444D766D327853424B526B646445686969786E3038745144636A535A5873593466782F6D4C6C6D7368794674685A5046647452654253534F2F4B5662342B486A4B59756676744C564A346D4654734E727A46666E51752F6655776753793852516C4B55546B61392B4B77776D6A6D7651484A58784C436C657552507A456E4D677931585A68745A76666D527646676C46654258377071535A74306236383173793845624A4134442F6F2B503076756A6D475A3436664E5559334941365A4E784477343857774841754F7877416E74666676384C7247455058414B73612F765545666E727A4752695576434B62675147505137344344697535694D69776F33474F6B30594D73467A4C737572674D657A4E7745455A59525379723443774F334B32436567756556415871526B56424D66504B67393251614950645048535844476854622B6C627930377079514B2F3546786258306641645A6E335766633557633879777572724E474C694D575972572F716B6C4A387561522F76592B695042336F36777359326E466B6D6267544174706A47316233387156726F6461386C5A6868537765545647684D334C517036794443612B65573841364838427943726A63317A415154634A713347776B5252566B7632345163697A54536574567275786D6A7833654F65326C517942552F68645A66554D6A6E396F494E3165666142726C574249635A61584E4F77673559376F7A6E624E70336E785A6F34675A346F75504131386D31416E2B6F6A643669732B2B672B703974384C36797175393058485837665239364F577061555A4B4770414474783639767765523937484B4C6E6A6A77655046336172636755554A4153347147343971656A746669366D715952526B443352324465347A73757850767445424734764367474A6F68476A6A48427675787949584F386F50716868785135683067374A394737446A6B712B64305546466D5366685A4659354E6F2F732B587172654843535635336974765A43337357786B4F7244656D444354444C41545371535965316369465577456A3576476C5241786E386C4F7042506A3544455039694C48476556766C6135743844316E536D59762F446F386D4161396C56704C6754724331356A7765636A35635644306862617365344D4332773961553456736C456A536B6C44704F64584642365938314D677145584E74314348653174655436793871587166495A7A6E7634506C592F467642673574476B326B426C694442314378446F454D34494A4A42472F78436E4B773365474466724E6F304D7944744D755641516F6D6A667A41425676674141414141414141414141524F5A684E6741434149414141414141414141414145626D59545941417743414D4141414141414141414249356D45324141514167414141414141414141414153755A684E67414641494141414141414141414141457A6D5954594142674341, 'Primario');
/*!40000 ALTER TABLE `huella` ENABLE KEYS */;


-- Volcando estructura para tabla control_acceso.visitante
CREATE TABLE IF NOT EXISTS `visitante` (
  `visi_identificacion` int(20) NOT NULL,
  `visi_nombre` varchar(30) default NULL,
  `visi_apellido1` varchar(20) default NULL,
  `visi_apellido2` varchar(20) default NULL,
  `visi_foto` varchar(50) default NULL,
  PRIMARY KEY  (`visi_identificacion`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

-- Volcando datos para la tabla control_acceso.visitante: ~1 rows (aproximadamente)
/*!40000 ALTER TABLE `visitante` DISABLE KEYS */;
INSERT INTO `visitante` (`visi_identificacion`, `visi_nombre`, `visi_apellido1`, `visi_apellido2`, `visi_foto`) VALUES
	(1117513159, 'OSWALDO', 'PAMO', 'LEAL', NULL);
/*!40000 ALTER TABLE `visitante` ENABLE KEYS */;


-- Volcando estructura para vista control_acceso.empleado
-- Eliminando tabla temporal y crear estructura final de VIEW
DROP TABLE IF EXISTS `empleado`;
CREATE ALGORITHM=UNDEFINED DEFINER=`planta`@`%` SQL SECURITY DEFINER VIEW `control_acceso`.`empleado` AS select `e`.`Cod_empleado` AS `Cod_empleado`,`e`.`Identificacion` AS `Identificacion`,`e`.`Nombres` AS `Nombres`,`e`.`Apellido1` AS `Apellido1`,`e`.`Apellido2` AS `Apellido2`,`e`.`cod_tipo` AS `cod_tipo`,`e`.`Eliminado` AS `Eliminado`,`e`.`FOTO` AS `FOTO` from `sigc972008`.`empleado` `e`;
/*!40101 SET SQL_MODE=IFNULL(@OLD_SQL_MODE, '') */;
/*!40014 SET FOREIGN_KEY_CHECKS=IF(@OLD_FOREIGN_KEY_CHECKS IS NULL, 1, @OLD_FOREIGN_KEY_CHECKS) */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
